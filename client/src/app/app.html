<app-navigation 
  [currentView]="currentView()" 
  (navigate)="navigateTo($event)">
</app-navigation>

<div class="main-content">
  
  <div class="blog-content">
    @if (currentView() === 'posts') {
      <div class="blog-posts">
        @if (loading()) {
          <div class="loading">Loading posts...</div>
        } @else if (error()) {
          <div class="error">{{ error() }}</div>
        } @else {
          @for (post of posts(); track post.id) {
            <article class="blog-post">
              <h3><a [routerLink]="['/post', post.id]">{{ post.title }}</a></h3>
              <div class="post-date">{{ formatDate(post.createdAt) }}</div>
              <div class="post-content" [innerHTML]="sanitizeHtml(post.content)"></div>
            </article>
          }
        }
      </div>
    } @else if (currentView() === 'facilities') {
      <div class="facilities-content">
        <div id="facilitiesContainer">
          <div class="facilitiesBlock">
            <h2>The Barn</h2>
            <img src="https://www.hvflyingcircus.com/wp-content/uploads/2025/07/IMG_0752-1024x768.jpg" alt="The Barn at Hudson Valley Flying Circus" />
            <p>The Barn is one of two main practice areas at The Flying Circus and houses 2 pits, over 225 poles and several apparatus for off the pit drills. The barn is also wired with a high tech camera system to give instant replays of jumps as well as a speaker system for music to be enjoyed both indoors and out.</p>
          </div>
          
          <div class="facilitiesBlock">
            <h2>Outdoor Facility</h2>
            <div class="video-wrapper">
              <iframe src="https://www.youtube.com/embed/hE4dGHdYMho" frameborder="0" allowfullscreen></iframe>
            </div>
            <p>The outdoor facility also has three pits, for a total of five. Two are opposite each other and share a runway. Having five pits allows us split up our vaulters into different groups for a better learning experience that is targeted toward their ability. Having both indoor and outdoor facilities also allows us to practice and compete year round, rain or shine.</p>
          </div>
        </div>
      </div>
    } @else if (currentView() === 'staff') {
      <div class="staff-content">
        <div id="mainContentWrapper">
          <div class="staffBlock clearfix">
            <h2>Tim St. Lawrence</h2>
            <img src="http://www.hvflyingcircus.com/wp-content/uploads/2013/12/coachst.jpg" alt="Tim St. Lawrence" />
            <p><em><strong>The following is an <a href="http://www.rctfhalloffame.com/tim-st-lawrence.html" target="_blank" rel="noopener noreferrer">article</a> from the <a href="http://www.rctfhalloffame.com/" target="_blank" rel="noopener noreferrer">Rockland County Track & Field Hall of Fame</a>:</strong></em></p>
            
            <p>When looking at the history of track and field in Rockland County, one cannot avoid frequent encounters with the surname St. Lawrence. Joe St. Lawrence was the 25-year coach of Suffern High's track team from the 1940s through the mid-'60s, before entering the state Legislature and later serving as the County treasurer. His sons all embraced his enthusiastic love of track and field and excelled each in their own way in the sport.</p>
            
            <p>Timothy, the second son of Marguerite and Joe St. Lawrence, showed the promise of athletic greatness even as a small child. He excelled at basketball, football, swimming, diving and being able to amaze his friends with his ability to do acrobatic tricks. The St. Lawrences' "back yard" was expansive, and frequently with help from his dad, he and his friends would hold small track meets. Tim was usually a leading point-getter in those meets. Nothing much changed as he grew as an athlete. He was usually one of the best athletes in any contest he competed in.</p>
            
            <p><em><strong><a target="_blank" href="http://www.rctfhalloffame.com/tim-st-lawrence.html" rel="noopener noreferrer">Continue Reading…</a></strong></em></p>
          </div>
          
          <div class="staffBlock clearfix">
            <h2>Hugh Cauthers (1939-2024)</h2>
            <img src="http://www.hvflyingcircus.com/wp-content/uploads/2013/12/hughcauthers.jpeg" alt="Hugh Cauthers" />
            <p><em>In Memoriam - September 2024</em></p>
            
            <p>Hugh Cauthers was born to coach. As a Monroe-Woodbury Central High School (NY) teacher and coach for over 45 years, he developed championship teams in Boys Soccer and Boys & Girls Indoor and Outdoor Track & Field. He promoted the field events for Head Legendary Coaches Dick Wilson, Lou Hall and Jim Glover in the "Crusaderland of Purple Pride." His athletes dominated all four jumping events (Long Jump, High Jump, Pole Vault, Triple Jump) throughout his tenure, but his greatest passion was The Pole Vault.</p>
            
            <p>Coach Cauthers was a unique teacher, skilled motivator, and mentor who coached with positivity, competitive spirit, and a humble gentle voice. He formed the Flying Circus Pole Vault Club in November 1984 and produced Pole Vault Champions for 36 years across all levels. He is most renowned for his dedication and determination in introducing the Girls Pole Vault event as a real scoring Track & Field event in New York State in 1998, proceeding to coach Michelle Kercado to the National Record (12′ 9.75) in 1999. He also coached Alana Carroll to National Gold and Stephanie Duffy to National Silver in the Vault.</p>
            
            <p>Coach Cauthers was elected into the esteemed Section 9 Track & Field Hall of Fame for his outstanding contributions in athletics. He was a Master Team Coach, the "King Innovator" of drills in soccer and pole vault, and a true role model for all. His leadership was his strong trait - he attracted and convinced his athletes to believe beyond themselves.</p>
            
            <p>Hugh Cauthers was filled with gratitude and kindness, making us all better humans. He is considered by all to be "The Father of the Girls Pole Vault" in New York State. We are blessed to have his spirit with us at the Flying Circus, where his legacy continues to inspire new generations of pole vaulters.</p>
          </div>
          
          <div class="staffBlock">
            <h2>Stephanie Duffy</h2>
            <img src="http://www.hvflyingcircus.com/wp-content/uploads/2015/11/Duffy1.jpg" alt="Stephanie Duffy" />
            <p>Stephanie Duffy put the Flying Circus on the Vault Map…with her 3 New York State Pole Vaulting Championships (13′ 1.5″)…her 3 Time All-American High School honors…her Runner-Up at Nike Outdoor Nationals (12′ 10.75″)…Her Many Diving Accomplishments at Washingtonville High School…her National Honor Society accomplishments and her Perfect Attendance all four years in High School and her leadership skills both in High School and College.</p>
            
            <p>Stephanie competed at a Championship Level for the University of South Florida, Tampa, Florida for coaching legend…Don Marsh. She was BIG EAST POLE VAULT Champion…a 5 Time ACADEMIC ALL-AMERICAN with a personal best pole vault of 13′ 6.25″ for the South Florida BULLS Track & Field Team. She majored in Elementary Education and graduated with Honors and Dean List status and now teaches young Elementary Students in her home district at Washington Central Schools, New York. Her positive approach in teaching and her patience with young children are above reproach. She has excellent Bio-Mechanics understanding of the complex pole vaulting movements.</p>
          </div>
          
          <div class="staffBlock">
            <h2>Bob Sorensen</h2>
            <img src="http://www.hvflyingcircus.com/wp-content/uploads/2021/08/IMG_3591.jpg" alt="Bob Sorensen" />
            <p>Coach Bob Sorensen comes from a long family line of pole vaulters and begins his seventh year at Flying Circus Pole Vault Academy. Coach Sorensen teaches pole vault technique and pole vault safety.</p>
            
            <p>Bob uses small progressive drills aimed at the athletes ability level and brings a strong emphasis on the approach, run, pole drop mechanics and plant positions/angles. His positive coaching style promotes confidence and trust in his athletes skills. Coach Sorensen is a Level 1 instructor at our pole vault club sessions, camps, clinics, and meets. He also assists in all Armory camps and clinics in pole vault.</p>
            
            <p>He is an EMS medical certified leader and coaches his All-American son, Dane Sorensen (Cortland University) when he is home from university. He is co-director of our home meets, including our Circus Summer Festival.</p>
          </div>
        </div>
      </div>
    }
    
    <div class="blog-sidebar">
      <app-about></app-about>
    </div>
  </div>
</div>

@if (!loading() && !error() && currentView() === 'posts') {
  <div class="pagination">
    <div class="pagination-info">
      Showing {{ posts().length }} of {{ totalCount() }} posts (Page {{ currentPage() }} of {{ totalPages() }})
    </div>
    
    <div class="pagination-controls">
      <button 
        (click)="previousPage()" 
        [disabled]="!hasPreviousPage()" 
        class="pagination-btn">
        Previous
      </button>
      
      @for (page of getPageNumbers(); track page) {
        @if (page === -1) {
          <span class="pagination-ellipsis">...</span>
        } @else {
          <button 
            (click)="goToPage(page)" 
            [class.active]="page === currentPage()"
            class="pagination-btn page-number">
            {{ page }}
          </button>
        }
      }
      
      <button 
        (click)="nextPage()" 
        [disabled]="!hasNextPage()" 
        class="pagination-btn">
        Next
      </button>
    </div>
  </div>
}

